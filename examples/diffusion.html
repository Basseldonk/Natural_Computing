<!DOCTYPE html>
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script src="../build/cpm.js"></script>
<style type="text/css">
	canvas{ border: 1px solid black}
</style>
</head>
<body>
<script>
"use strict"

let w = 61, m = (w-1)/2, D = 0.1545706

var g = new CPM.Grid2D([w,w], true, "Float32"),
	gi = new CPM.CoarseGrid( g, 10 )

var c = new CPM.Canvas(gi,{zoom:1})
g.setpix( [m,m], 1 )
for( let i = 0 ; i < 20 ; i ++ ){
	g.diffusion( D*0.01 )
	let s = 0
	for( let x = 0 ; x < w ; x ++ ){
		for( let y = 0 ; y < w ; y ++ ){
			s += ((x-m)*(x-m)+(y-m)*(y-m))*(0.38*0.38/60./60.)*g.pixt( [x,y] )
		}
	}
	console.log( i, s, 4 * 6.2 * 1E-5 * (i/10) )
}
c.drawField( gi )

</script>
</body>
</html>
